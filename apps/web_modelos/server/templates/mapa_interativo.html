{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/slider.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/chuva_inmet.css') }}">
<style>
  .mapa {
    height: 120vh;
    border: 1px solid;
  }
</style>
{% endblock %}

{% block title %}
<title> Mapas Auxiliares </title>
{% endblock %}

{% block content %}
<div class="col-12" style="margin: 20px auto !important;">

  <div class="col-12">


    <div class="container" style="padding: 20px; ">

      <div class="row">
        <select class="col-5 selectpicker" id="select-bacia" data-live-search="true" data-actions-box="true" multiple
          title="Nada selecionado" style="z-index: 1000;">
        </select>
        
        <div class="col-2 form-inline">
          <label for="mm-chuva">mm Minimo</label>
          <input class="form-control" type="number" id="mm-chuva" min="0" step="1" value="0" style="width: 64px;">
        </div>
        <div class="col-2 d-flex justify-content-start">
          <button type="button" class="btn btn-dark" id="buscar-dados">Buscar</button>
        </div>
      </div>

      <div class="row justify-content-between">
        <div class="custom-control custom-switch" style="margin-left: 15px;">
          <input type="checkbox" class="custom-control-input" id="forcarAtualizacao">
          <label class="custom-control-label" for="forcarAtualizacao">Atualizar cache</label>
        </div>
        <div>
          *Horário UTC
        </div>
      </div>

      <div class="row justify-content-end">
        <div class="spinner-border " id="loading" role="status" style="display:none;">
          <span class="sr-only">Carregando...</span>
        </div>
        <div class="form-group">
          <label for="data-inicio">Data Hora Inicio</label>
          <input class="" id="data-inicio" type="datetime-local" name="dataInicial">
        </div>
        <div class="form-group">
          <label for="data-final">Data Hora Fim</label>
          <input class="" id="data-final" type="datetime-local" name="dataFinal">
        </div>
      </div>

      <div class="row" style="display: block; width: 100%; height: 10px; margin: auto;">
        <div id="slider"></div>
      </div>

    </div>

    <div class="row">
      <div class="col-8">

        <div class="card">
          <div class="mapa card-body" id="main"></div>
        </div>
      </div>
      <div class="col-3" style="text-align: center;">
        <table class="table table-striped">
          <thead id="teste">
            <tr>
              <th scope="col">Bacia</th>
              <th scope="col">Precipitação Média (mm)</th>
              <th scope="col">Pontos Utilizados (%)</th>
              <th scope="col">Pontos Totais</th>
            </tr>
          </thead>
          <tbody id="tabela">

          </tbody>
        </table>
      </div>
    </div>


  </div>

</div>


{% endblock %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
{% block scripts %}
<script src="{{ url_for('static', filename='js/slider/rangeslider.umd.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/slider/Slider.js') }}"></script>
<script src="{{ url_for('static', filename='js/chuva_inmet.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
{% endblock %}